---
const links = [
	{ name: "Projects", id: "projects" },
	{ name: "Education", id: "education" },
	{ name: "Certifications", id: "certifications" },
	{ name: "Skills", id: "skills" },
	{ name: "Contact", id: "contact" },
];
---

<header
	id="header"
	class="shadow fixed top-0 w-[100vw] z-50 p-2 transition-all duration-300 ease-in-out"
>
	<div class="pr-4 mx-auto flex justify-between items-center">
		<div class="text-2xl font-bold text-white" title="top">
			<a id="header-top-btn" class="text-white p-1 cursor-pointer">
				<img
					class="avatar inline-block bg-slate-700 rounded-full"
					src="/avatar-200.png"
				/>
				Portfolio
			</a>
		</div>
		<nav class="hidden md:flex space-x-6">
			{
				links?.map?.((link) => (
					<a
						href={`#${link.id}`}
						title={link.id}
						class="cursor-pointer text-slate-400 font-medium text-lg hover:text-white hover:underline transition-all duration-300"
					>
						{link.name}
					</a>
				))
			}
		</nav>
		<div class="md:hidden">
			<button id="menu-button" class="text-white">
				<svg
					class="w-8 h-8"
					fill="none"
					stroke="currentColor"
					viewBox="0 0 24 24"
					xmlns="http://www.w3.org/2000/svg"
				>
					<path
						stroke-linecap="round"
						stroke-linejoin="round"
						stroke-width="3"
						d="M4 6h16M4 12h16m-7 6h7"></path>
				</svg>
			</button>
		</div>
	</div>
	<div
		id="mobile-menu"
		class="flex flex-col text-xl bg-slate-950 md:hidden m-auto"
	>
		{
			links?.map?.((link) => (
				<a
					href={`#${link.id}`}
					title={link.id}
					class="mobile-menu-link cursor-pointer p-2 text-white font-medium hover:text-slate-800"
					data-id={link.id}
				>
					{link.name}
				</a>
			))
		}
	</div>
</header>

<style>
	#header {
		background: transparent;
		-webkit-backdrop-filter: blur(10px);
		box-shadow:
			0 8px 32px rgba(0, 0, 0, 0.12),
			inset 0 1px 0 rgba(255, 255, 255, 0.15);
		transition:
			background 0.3s ease,
			height 0.3s ease;
		height: 80px;
	}

	#header.scrolled {
		background: rgba(0, 0, 0, 0.6);
		height: 54px;
	}

	.avatar {
		height: 70px;
		width: 70px;
		transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
		will-change: height, width;
	}

	#header.scrolled div div a .avatar {
		width: 40px;
		height: 40px;
	}
	.nav-link {
		position: relative;
		padding: 8px 16px;
		border-radius: 12px;
		transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	}

	.nav-link:hover {
		background: rgba(255, 255, 255, 0.1);
		backdrop-filter: blur(10px);
		-webkit-backdrop-filter: blur(10px);
		box-shadow:
			0 4px 16px rgba(0, 0, 0, 0.1),
			inset 0 1px 0 rgba(255, 255, 255, 0.2);
	}

	#mobile-menu {
		max-height: 0;
		overflow: hidden;
		background: rgba(15, 23, 42, 0.9);
		backdrop-filter: blur(25px);
		-webkit-backdrop-filter: blur(25px);
		box-shadow:
			0 12px 40px rgba(0, 0, 0, 0.2),
			inset 0 1px 0 rgba(255, 255, 255, 0.1);
		transition: max-height 0.8s cubic-bezier(0.4, 0, 0.2, 1);
	}

	#mobile-menu::before {
		content: "";
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background: linear-gradient(
			180deg,
			rgba(255, 255, 255, 0.08) 0%,
			rgba(255, 255, 255, 0.04) 50%,
			rgba(255, 255, 255, 0.02) 100%
		);
		pointer-events: none;
	}

	#mobile-menu.show-menu {
		max-height: 400px;
	}

	.mobile-menu-link {
		display: block;
		text-align: left;
		padding: 1rem 2rem 1rem 75%;
		width: 100%;
		position: relative;
		z-index: 1;
		border-bottom: 1px solid rgba(255, 255, 255, 0.08);
		transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
		background: transparent;
		color: #c2c0c0;
		margin: 4px 8px;
		border-radius: 12px;
		opacity: 0;
		transform: translateY(10px);
	}

	.mobile-menu-link:hover {
		background: rgba(255, 255, 255, 0.12);
		color: #fff;
		backdrop-filter: blur(15px);
		-webkit-backdrop-filter: blur(15px);
		box-shadow:
			0 4px 16px rgba(0, 0, 0, 0.1),
			inset 0 1px 0 rgba(255, 255, 255, 0.2);
	}

	.mobile-menu-link:last-child {
		border-bottom: none;
		margin-bottom: 8px;
	}

	#mobile-menu.show-menu .mobile-menu-link {
		opacity: 1;
		transform: translateY(0);
	}

	@media (max-width: 550px) {
		.mobile-menu-link {
			padding: 1rem 2rem 1rem 55%;
		}
	}
</style>
